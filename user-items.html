<div class="user-card" [class.blocked]="user.blocked">
  <div class="user-summary">
    <div class="user-info" (click)="toggleDetails()">
      <h2>{{ user.name }}</h2>
      <p class="meta">
        <span>{{ user.email }}</span> Â· 
        <span>Klasse: {{ user.class }}</span> Â· 
        <span>Bestellungen: {{ user.orderCount }}</span>
      </p>
    </div>

    <div class="user-controls">
      <div class="balance">
        <span>{{ user.balance | currency: 'EUR' }}</span>
        <button class="edit-btn" (click)="startEditBalance(); $event.stopPropagation()" title="Guthaben bearbeiten">â•</button>
        <input *ngIf="user.editingBalance"
               type="number"
               [(ngModel)]="user.newBalance"
               (keyup.enter)="saveBalance()"
               placeholder="Betrag"
               class="balance-input" />
      </div>

      <div class="actions">
        <button class="icon-btn delete" (click)="emitDelete()" title="Benutzer lÃ¶schen">ğŸ—‘ï¸</button>
        <button class="icon-btn block" (click)="emitBlock()" title="Benutzer sperren">ğŸš«</button>
      </div>
    </div>
  </div>

  <div *ngIf="user.showDetails" class="user-details">
    <div class="detail-row">
      <label>Guthaben:</label>
      <span>{{ user.balance | currency: 'EUR' }}</span>
    </div>
    <div class="detail-row">
      <label>Klasse:</label>
      <span>{{ user.class }}</span>
    </div>
    <div class="detail-row">
      <label>Bestellungen:</label>
      <span>{{ user.orderCount }}</span>
    </div>
  </div>
</div>
